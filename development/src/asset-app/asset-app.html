<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../workflow-elements/workflow-elements.html">
<link rel="import" href="../elements-detail/elements-detail.html">

<dom-module id="asset-app">
  <template>
    <style>
      :host {
        display: block;
      }

      #titleSection {
        border: 1px solid #ccc;
        text-align: center;
      }

      #ContentSection {
        margin: 20px; 
        margin-left: 0;
      }

      #leftSsection {
        border: 1px solid #ccc;
        float: left;
        width: 15vw;
        text-align: center;
        padding: 1vw;
      }

      #rightSsection {
        float: right;
        width: 80vw;
      }

      #populateDetailsSection {
        margin-top: 10px;
        padding: 5px;
        border: 1px solid #ccc;
        /*width: 1555px;
        height: 100px;
		overflow: scroll;*/
      }

      .clr {
        clear: both;
      }

      footer {
        text-align: center;
      }

      /* Popup container - can be anything you want */
      .popupContainer {
        position: absolute;
        display: inline-block;
        cursor: pointer;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      /* The actual popup */
      .popupContainer .popuptext {
        visibility: hidden;
        width: 300px;
        background-color: #555;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 8px 0;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 15%;
        margin-left: -150px;
      }

      /* Popup arrow */
      .popupContainer .popuptext::after {
        content: "";
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: #555 transparent transparent transparent;
      }

      /* Toggle this class - hide and show the popup */
      .popupContainer .show {
        visibility: visible;
      }

      #canvasContainerSection {
        width: 80vw;
        height: 700px;
        border: 1px solid #ccc;
        /*overflow: scroll;*/
      }
        
        /*slider stuff from w3schools https://www.w3schools.com/howto/howto_js_rangeslider.asp*/
        
        #sizeSlider {
        -webkit-appearance: none;
        width: 100%;
        height: 15px;
        border-radius: 5px;
        background: #d3d3d3;
        outline: none;
        opacity: 0.5;
        -webkit-transition: .15s;
        transition: opacity .15s;
        overflow : visible;
        }
        
        #sizeSlider:hover {
            opacity: 1;
        }
        
        #sizeSlider::-webkit-slider-thumb {
        -webkit-appearance: none;
         appearance: none;
        height: 20px;
        width: 20px;
        border-radius: 50%;
        background: #4CAF50;
        cursor: pointer;
        }
        
        hr { 
        display: block;
        margin-top: 2em;
        margin-bottom: 2em;
        margin-left: auto;
        margin-right: auto;
        border-style: inset;
        border-width: 1px;
        }

    </style>

    <div id="titleSection"><h1>ASSET - Workflow Sketching<h1></div>

    <div id="ContentSection">

      <div id="leftSsection">
        <workflow-elements id="asd" src="content.json"></workflow-elements>
          
        <hr>
          
        
        <div id= "sizeSliderSection">
            Zoom:
            <input type="range" min="1" max="20" value="1" class="slider" id="sizeSlider">
        </div>
        <div class="description" id="descriptionSection">
            Discription section: TO BE ADDED SOON
        </div>
      </div>
    
      

      <div id="rightSsection">
        <div id="canvasContainerSection">
          <canvas onclick="canvasClick(event)" onmousemove="mouseMoveFunction(event)" onmousedown="mouseDownFunction(event)" onmouseup="mouseUpFunction(event)" width="5000px" height="5000px" id="workflowSketchCanvas" ondragover="allowDrop(event)" ondrop="drop(event)"></canvas>
            <script>
                    var ctx = document.getElementById("workflowSketchCanvas");
                    var canvasContainer = document.getElementById("canvasContainerSection");
                    ctx.width  = 14;
                    ctx.height = canvasContainer.innerHeight;
            </script>
        </div>
        <div id="populateDetailsSection"></div>
      </div>
      <div class="clr"></div>
    </div>

    <footer>
      <a href="#" id="exportAnchor">Export Sketch</a>  |  <a href="#" onclick="importWorkflow(event)" id="importAnchor">Import Sketch</a>
    </footer>

    <div class="popupContainer" id="popupContainer">
      <span class="popuptext" id="popup"></span>
    </div>

  </template>

  <script>
      var ctx = document.getElementById("workflowSketchCanvas");
                    var canvasContainer = document.getElementById("canvasContainerSection");
                    //ctx.width  = canvasContainer.width;
                    //ctx.height = canvasContainer.innerHeight;
    /**
     * @customElement
     * @polymer
     */
    class AssetApp extends Polymer.Element {
      static get is() { return 'asset-app'; }
      static get properties() {
        return {
          prop1: {
            type: String,
            value: 'asset-app'
          }
        };
      }
    }

    window.customElements.define(AssetApp.is, AssetApp);
  </script>
</dom-module>
