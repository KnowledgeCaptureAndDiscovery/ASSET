<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/polymer/lib/utils/gestures.html">
<link rel="lazy-import" href="icon-row1.html">

<dom-module id="my-view2">
  <template>
    <style>
      #sides{
      margin:0;
      }
      #left{
      float:left;
      width:20%;
      overflow:hidden;
      }
      #right{
      float:left;
      width:80%;
      overflow:hidden;
      }
      #footer {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100%;
      background-color: aqua;
      color: white;
      text-align: center;
}

</style>
    <div id="top">
      <div id="left">

        <paper-button toggles raised class="indigo" on-click="displayFooter1"> Common Task</paper-button>
        <paper-button toggles raised class="indigo" on-click="displayFooter2"> Fragments</paper-button>
        <paper-button toggles raised class="indigo" on-click="displayFooter3"> Earthcube</paper-button>
        <paper-button toggles raised class="indigo" on-click="displayFooter4"> Various Canvas</paper-button>
        <paper-button toggles raised class="indigo" on-click="displayFooter5"> Blank</paper-button>
      </div>

      <div id = "right">
        <canvas height="500" width="900" style="border:1px solid #000000;"></canvas>
      </div>
    </div>

    <div id = "footer">
<!-- 
        return stuff here on user clicks -->
              <!-- <img id="search-icon"
          src="https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-ios7-search-strong-128.png" /> -->
          <dom-repeat items ="{{tasks}}" as="task">
            <template>
              <!-- <div class="task"> -->
                <canvas class="task" id={{task.name}} onclick=t(this) height="50" width="80" style="background-color:white;"></canvas>
              <!-- </div> -->
            </template>
          </dom-repeat>
    </div>

  </template>

  <script>
    var obj = new XMLHttpRequest();
    obj.open("GET", "content.json", false);
    obj.send();
    obj = JSON.parse(obj.responseText);
    //var obj = JSON.parse('{ "CommonTasks":["Common Task value 1","Common Task value 2","Common Task value 3","Common Task value 4","Common Task value 5"], "Fragments":["Fragments value 1","Fragments value 2","Fragments value 3","Fragments value 4","Fragments value 5"], "Earthcube":["Earthcube value 1","Earthcube value 2","Earthcube value 3","Earthcube value 4","Earthcube value 5"], "VariousCanvas":["Various Canvas value 1","Various Canvas value 2","Various Canvas value 3","Various Canvas value 4","Various Canvas value 5"], "BlankCanvas":["Blank Canvas value 1","Blank Canvas value 2","Blank Canvas value 3","Blank Canvas value 4","Blank Canvas value 5"]}');

    class MyView1 extends Polymer.Element {
      static get is() { return 'my-view2'; }
      static get properties(){
        return{
          tasks:{
            type: HTMLCanvasElement,
            value : () => []
          }
        }
      }

      displayFooter1(){
        for(var i=0; i<5; i++){
          console.log(obj.CommonTasks[i]);
          this.pop('tasks');
        }

        const newValue1={
          name: obj.CommonTasks[0]
        };

        // while(this.length > 0){
        //   this.pop();
        // }
        
        this.push('tasks', newValue1)
        const newValue2={
          name: obj.CommonTasks[1].image
        };
        this.push('tasks', newValue2)
        const newValue3={
          name: obj.CommonTasks[2].image
        };
        this.push('tasks', newValue3)
        const newValue4={
          name: obj.CommonTasks[3].image
        };
        this.push('tasks', newValue4)
        const newValue5={
          name: obj.CommonTasks[4].image
        };
        this.push('tasks', newValue5)
      }

      displayFooter2(){

        for(var i=0; i<5; i++){
          console.log(obj.Fragments[i]);
          this.pop('tasks');
        }

        const newValue1={
          name: obj.Fragments[0]
        };


        // while(this.length > 0){
        //   this.pop();
        // }

        this.push('tasks', newValue1)
        const newValue2={
          name: obj.Fragments[1]
        };
        this.push('tasks', newValue2)
        const newValue3={
          name: obj.Fragments[2]
        };
        this.push('tasks', newValue3)
        const newValue4={
          name: obj.Fragments[3]
        };
        this.push('tasks', newValue4)
        const newValue5={
          name: obj.Fragments[4]
        };
        this.push('tasks', newValue5)
      }

      displayFooter3(){

        for(var i=0; i<5; i++){
          console.log(obj.Earthcube[i]);
          this.pop('tasks');
        }

        const newValue1={
          name: obj.Earthcube[0]
        };

        // while(this.length > 0){
        //   this.pop();
        // }
        this.push('tasks', newValue1)
        const newValue2={
          name: obj.Earthcube[1]
        };
        this.push('tasks', newValue2)
        const newValue3={
          name: obj.Earthcube[2]
        };
        this.push('tasks', newValue3)
        const newValue4={
          name: obj.Earthcube[3]
        };
        this.push('tasks', newValue4)
        const newValue5={
          name: obj.Earthcube[4]
        };
        this.push('tasks', newValue5)
      }

      displayFooter4(){

        for(var i=0; i<5; i++){
          console.log(obj.VariousCanvas[i]);
          this.pop('tasks');
        }
        
        const newValue1={
          name: obj.VariousCanvas[0]
        };
        
      //  while(this.length > 0){
      //     this.pop();
      //   }
        //this.push('tasks', newValue1)
        const newValue2={
          name: obj.VariousCanvas[1]
        };
        //this.push('tasks', newValue2)
        const newValue3={
          name: obj.VariousCanvas[2]
        };
        //this.push('tasks', newValue3)
        const newValue4={
          name: obj.VariousCanvas[3]
        };
        //this.push('tasks', newValue4)
        const newValue5={
          name: obj.VariousCanvas[4]
        };
        this.push('tasks', [newValue1, newValue2, newValue3, newValue4, newValue5])
      }

      displayFooter5(){

        for(var i=0; i<5; i++){
          console.log(obj.BlankCanvas[i]);
          this.pop('tasks');
        }

        const newValue1={
          name: obj.BlankCanvas[0]
        };

        // while(this.length > 0){
        //   this.pop();
        // }

        this.push('tasks', newValue1)
        const newValue2={
          name: obj.BlankCanvas[1]
        };
        this.push('tasks', newValue2)
        const newValue3={
          name: obj.BlankCanvas[2]
        };
        this.push('tasks', newValue3)
        const newValue4={
          name: obj.BlankCanvas[3]
        };
        this.push('tasks', newValue4)
        const newValue5={
          name: obj.BlankCanvas[4]
        };
        this.push('tasks', newValue5)
      }
    }

    // function t(element) {
    //   console.log("in here  : " + element);
    //   var ctx = element.getContext('2d');
    //   ctx.font="20px Georgia";
    //   ctx.fillText(obj.CommonTasks[0].image,10,50);     
    // }

    function t(element) {
      var img = new Image();
      img.src = obj.CommonTasks[0].image;
      console.log("This  : " + img.src);
      var ctx=element.getContext("2d");
      ctx.drawImage(img,0,0,80,50);
    }

    window.customElements.define(MyView1.is, MyView1);
  </script>
</dom-module>

